#!%(python_cgi_executable)s
# $Id: edit.py.in,v 1.3 2004/03/25 12:24:07 ods Exp $

import qps, os, logging
qps.configLogger(level=logging.INFO)
from PPA.HTTP.CGI import Adapter
from qps import qEdit
from Site import Site


class Edit(qEdit.Edit):

    prefix = ''
    templateDirs = [%(`edit_templates_dir`)s]
    fieldTemplateDirs = [%(`field_templates_dir`)s]
    auth = qSecurity.HTTPAuthentication(
                        securityGroupTable = {
                            'editors': ['editor1_login', 'editor2_login'],
                        },
                        authenticationHeader='Private Zone')


class Main(Adapter):

    def __init__(self):
        self.__edit = Edit(Site())

    def handle(self, request, response):
        self.__edit.handle(request, response)


handle = Main()
if __name__=='__main__':
    handle()
